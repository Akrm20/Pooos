<!DOCTYPE html>
<html lang="ar" dir="rtl" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุทุฉ ุงูุจูุน (POS) - Micro ERP</title>
    
    <!-- ุฑูุงุจุท CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <link rel="stylesheet" href="M-pos.css">

</head>
<body>
    <!-- ========== ุงููููู ุงูุฃุณุงุณู ========== -->
    <div class="header d-flex justify-content-between align-items-center px-3">
        <div>
            <span class="badge bg-success me-3">ุฑุตูุฏ ุงูุตูุฏูู: <span id="currentBalance">0.00 ุฑ.ู</span></span>
            <button class="btn btn-outline-secondary btn-sm" id="themeToggle">
                <i class="bi bi-sun" id="themeIcon"></i>
            </button>
            <button class="btn btn-outline-primary btn-sm ms-2" onclick="location.href='index.html'">
                <i class="bi bi-cart"></i> ุงูุฑุฆูุณูุฉ
            </button>
        </div>
        <h4 class="mb-0">ููุทุฉ ุงูุจูุน (POS)</h4>
    </div>

    <!-- ========== ุงููุญุชูู ุงูุฑุฆูุณู ========== -->
    <div class="main-content" id="mainContent">
        <div class="container-fluid py-4">
            <!-- ========== ููุทุฉ ุงูุจูุน ========== -->
            <div id="posModule">
                <div class="pos-container">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h2>๐ ููุทุฉ ุงูุจูุน</h2>
                        <span class="badge bg-success">ุฑุตูุฏ ุงูุตูุฏูู: <span id="posBalance">0.00 ุฑ.ู</span></span>
                    </div>

                    <!-- ุดุฑูุท ุงูุจุญุซ -->
                    <div class="mb-3 position-relative">
                        <input type="text" class="form-control" id="productSearchInput" 
                            placeholder="๐ ุจุญุซ ููุฑู ุนู ุงูููุชุฌ (ุงูุงุณู ุฃู ุงูููุฏ)...">
                        <!-- ูุชุงุฆุฌ ุงูุจุญุซ -->
                        <div id="posSearchResults" class="search-results-container" style="display: none;"></div>
                    </div>
                    
                    <!-- ุนุฑุถ ุงููุฆุงุช -->
                    <div id="categoriesView">
                        <!-- ุดุฑูุท ุงูุงูุชุฑุงุญุงุช ุงูุณุฑูุนุฉ -->
                        <div class="quick-suggestions mb-4" id="quickSuggestions">
                            <!-- ุณูุชู ุชุนุจุฆุชู ุฏููุงููููุงู -->
                        </div>

                        <!-- ุดุจูุฉ ุงููุฆุงุช -->
                        <div class="row g-3" id="categoriesGrid">
                            <!-- ุณูุชู ุชุนุจุฆุชูุง ุฏููุงููููุงู -->
                        </div>
                    </div>

                    <!-- ุนุฑุถ ุงูููุชุฌุงุช -->
                    <div id="productsView" style="display: none;">
                        <!-- ุฑุฃุณ ุนุฑุถ ุงูููุชุฌุงุช -->
                        <div class="d-flex justify-content-between align-items-center mb-3 p-3 bg-light rounded">
                            <button class="btn btn-outline-primary btn-sm" id="backToCategoriesBtn">
                                <i class="bi bi-arrow-right"></i> ุงูุนูุฏุฉ ูููุฆุงุช
                            </button>
                            <h5 class="mb-0" id="currentCategoryTitle">ุงูููุชุฌุงุช</h5>
                            <div class="text-muted" id="productsCount"></div>
                        </div>

                        <!-- ุดุจูุฉ ุงูููุชุฌุงุช -->
                        <div class="row g-2" id="productsGrid">
                            <!-- ุณูุชู ุชุนุจุฆุชูุง ุฏููุงููููุงู -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== ุณูุฉ ุงููุดุชุฑูุงุช ========== -->
    <div id="posCart">
        <div class="p-3 border-bottom d-flex justify-content-between align-items-center">
            <h5 class="mb-0">๐ ุณูุฉ ุงููุดุชุฑูุงุช</h5>
            <button class="btn btn-sm btn-outline-secondary" id="closeCartBtn">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        <div class="p-3" style="height: calc(100% - 120px); overflow-y: auto;">
            <div id="cartItemsList"></div>
            <!-- ูุณู ุงูุฅุฌูุงููุงุช -->
            <div class="border-top pt-3 mt-3">
                <div class="mb-3">
                    <label class="form-label">ุงุฎุชูุงุฑ ุงูุนููู:</label>
                    <select class="form-select" id="customerSelect">
                        <option value="">ุนููู ููุฏู</option>
                        <!-- ุณูุชู ุชุนุจุฆุชูุง ุฏููุงููููุงู -->
                    </select>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">ุทุฑููุฉ ุงูุฏูุน:</label>
                    <select class="form-select" id="paymentMethodSelect">
                        <option value="cash">ููุฏู</option>
                        <option value="credit">ุขุฌู</option>
                        <option value="card">ุจุทุงูุฉ</option>
                    </select>
                </div>

                <!-- ูุณู ุงูุฎุตู ูุงูุถุฑูุจุฉ -->
                <div class="row mb-3">
                    <div class="col-6">
                        <label class="form-label">ุงูุฎุตู:</label>
                        <select class="form-select form-select-sm" id="discountType">
                            <option value="fixed">ูููุฉ ุซุงุจุชุฉ</option>
                            <option value="percentage">ูุณุจุฉ ูุฆููุฉ</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <label class="form-label">ุงููููุฉ:</label>
                        <input type="number" class="form-control form-control-sm" id="discountInput" value="0" min="0" step="0.01">
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-6">
                        <label class="form-label">ุงูุถุฑูุจุฉ:</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="applyTaxCheckbox" checked>
                            <label class="form-check-label" for="applyTaxCheckbox">ุชุทุจูู ุงูุถุฑูุจุฉ</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <label class="form-label">ุงููุณุจุฉ:</label>
                        <input type="number" class="form-control form-control-sm" id="taxRateInput" value="0" min="0" max="100" step="0.1" disabled>
                    </div>
                </div>
                
                <!-- ุชูุงุตูู ุงูุฅุฌูุงููุงุช -->
                <div class="totals-breakdown mb-3">
                    <div class="d-flex justify-content-between small border-bottom pb-1">
                        <span>ุงููุฌููุน ุงููุฑุนู:</span>
                        <span id="cartSubtotal">0.00 ุฑ.ู</span>
                    </div>
                    <div class="d-flex justify-content-between small text-danger border-bottom pb-1">
                        <span>ุงูุฎุตู:</span>
                        <span id="cartDiscount">0.00 ุฑ.ู</span>
                    </div>
                    <div class="d-flex justify-content-between small text-info border-bottom pb-1">
                        <span>ุงูุถุฑูุจุฉ:</span>
                        <span id="cartTax">0.00 ุฑ.ู</span>
                    </div>
                    <div class="d-flex justify-content-between fw-bold mt-2">
                        <span>ุงูุฅุฌูุงูู ุงูููุงุฆู:</span>
                        <span id="cartTotal" class="text-success">0.00 ุฑ.ู</span>
                    </div>
                </div>
                
                <button class="btn btn-success w-100 mb-2" id="saveInvoiceBtn">โ ุญูุธ ุงููุงุชูุฑุฉ</button>
                <button class="btn btn-outline-primary w-100 mb-2" id="printInvoiceBtn">๐จ๏ธ ุทุจุงุนุฉ</button>
                <button class="btn btn-outline-success w-100" id="shareWhatsappBtn">๐ฑ ูุดุงุฑูุฉ ูุงุชุณุงุจ</button>
            </div>
        </div>
    </div>

    <!-- ุฃุฒุฑุงุฑ ุงูุณูุฉ ุงูุนุงุฆูุฉ -->
    <button class="btn btn-primary fab-cart" id="fabCartBtn">
        <i class="bi bi-cart-fill"></i>
        <span class="cart-counter" id="cartCounter">0</span>
    </button>

    <div class="floating-cart" id="floatingCartBtn" style="display: none;">
        <div class="floating-cart-content">
            <span>ุฅุฌูุงูู ุงูุณูุฉ:</span>
            <span class="fw-bold text-success" id="floatingCartTotal">0.00 ุฑ.ู</span>
        </div>
    </div>
    
    <!-- ุฅุดุนุงุฑ ูุคูุช -->
    <div id="temporaryNotification" class="toast-notification" style="display: none;">
        ุชู ุฅุถุงูุฉ <span id="notificationProductName"></span> ุฅูู ุงูุณูุฉ
    </div>

    <!-- ========== ุงูููุชุจุงุช JavaScript ========== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="M-core.js"></script>
    <script src="M-database.js"></script>
    <script src="M-pos.js"></script>    
    <script>
 
    </script>
</body>
</html>